{% load static %}

<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Atlanta Food Finder</title>
        <link rel="stylesheet" href="{% static 'AtlantaFoodFinder/css/index.css' %}">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Galada&family=Plus+Jakarta+Sans:ital,wght@0,200..800;1,200..800&family=Zain:wght@200;300;400;700;800;900&display=swap" rel="stylesheet">
    </head>
    <body data-theme="custom" class="h-screen flex flex-col">
        <nav>
            <div class="navbar bg-base-300 font-heading">
                <div class="flex-none sm:hidden">
                    <label class="btn btn-square btn-ghost btn-primary swap swap-rotate">
                        <input id="menuControl" type="checkbox" />
                        <svg class="inline-block feather-md swap-off">
                            <use href="{% static 'AtlantaFoodFinder/icons/feather-sprite.svg' %}#menu" />
                        </svg>
                        <svg class="inline-block feather-md swap-on">
                            <use href="{% static 'AtlantaFoodFinder/icons/feather-sprite.svg' %}#x" />
                        </svg>
                    </label>
                </div>
                <div class="flex-1 justify-center sm:justify-start">
                    <a href="#" class="text-primary text-2xl sm:text-3xl font-title sm:pl-2">Atlanta Food Finder</a>
                </div>
                <div class="flex-none">
                    <ul class="menu menu-horizontal px-1 gap-2 items-center">
                        <li class="hidden sm:flex font-semibold"><a href="{% url 'atl_food_finder:index' %}">Map</a></li>
                        <li class="hidden sm:flex"><a href="{% url 'atl_food_finder:login' %}" class="btn btn-primary btn-ghost h-9 min-h-0">Log In</a></li>
                        <li class="hidden sm:flex"><a href="{% url 'atl_food_finder:signup' %}" class="btn btn-primary h-9 min-h-0">Sign Up</a></li>
                        <li class="hidden sm:flex">
                            <details class="dropdown dropdown-end">
                                <summary class="after:hidden flex flex-row gap-1">
                                    <span>My Account</span>
                                    <svg class="feather-sm">
                                        <use href="{% static 'AtlantaFoodFinder/icons/feather-sprite.svg' %}#chevron-down" />
                                    </svg>
                                </summary>
                                <ul class="menu dropdown-content bg-base-200 !mt-2 p-2 w-max right-0 z-50">
                                    <li><a>Account Settings</a></li>
                                    <li><a>My Reviews</a></li>
                                    <li><a class="text-error hover:bg-error hover:bg-opacity-20 active:!text-error active:!bg-error active:!bg-opacity-40">Log Out</a></li>
                                </ul>
                            </details>
                        </li>
                    </ul>
                </div>
            </div>
            <div id="menu" class="sm:hidden bg-base-300 absolute inset-x-0 top-16 h-0 overflow-hidden z-50">
                <ul class="menu menu-vertical px-2 gap-2 items-stretch">
                    <li class="font-semibold"><a href="{% url 'atl_food_finder:index' %}">Map</a></li>
                    <li><a class="text-secondary active:!text-secondary" href="{% url 'atl_food_finder:login' %}">Log In</a></li>
                    <li><a class="text-primary active:!text-primary" href="{% url 'atl_food_finder:signup' %}">Sign Up</a></li>
                    <li><a>Account Settings</a></li>
                    <li><a>My Reviews</a></li>
                    <li><a class="text-error active:!text-error">Log Out</a></li>
                </ul>
            </div>
        </nav>
        <main class="grow shrink overflow-hidden relative font-body">
            <div id="loading" class="absolute">Loading nearby restaurants...</div>
            <div id="map" class="size-full"></div>
            <div class="absolute top-4 left-4 flex flex-col gap-4">
                <button class="btn btn-primary p-4 min-h-0 h-max rounded-full" onclick="toggleSearch()">
                    <svg class="feather-lg">
                        <use href="{% static 'AtlantaFoodFinder/icons/feather-sprite.svg' %}#search" />
                    </svg>
                </button>
                <button class="btn btn-primary p-4 min-h-0 h-max rounded-full">
                    <svg class="feather-lg">
                        <use href="{% static 'AtlantaFoodFinder/icons/feather-sprite.svg' %}#star" />
                    </svg>
                </button>
                <button class="btn btn-primary p-4 min-h-0 h-max rounded-full">
                    <svg class="feather-lg">
                        <use href="{% static 'AtlantaFoodFinder/icons/feather-sprite.svg' %}#settings" />
                    </svg>
                </button>
            </div>
            <div class="absolute bottom-8 left-4 flex flex-col">
                <button onclick="reCenter()" class="btn btn-primary pb-1.5 pl-1.5 pr-2.5 pt-2.5 min-h-0 h-max rounded-full mb-2">
                    <svg class="feather-md">
                        <use href="{% static 'AtlantaFoodFinder/icons/feather-sprite.svg' %}#navigation" />
                    </svg>
                </button>
                <button onclick="zoom(1)" class="btn btn-primary p-2 min-w-0 h-max block !scale-100 rounded-full rounded-b-none border-0 border-b border-base-content border-opacity-15">
                    <svg class="feather-md">
                        <use href="{% static 'AtlantaFoodFinder/icons/feather-sprite.svg' %}#plus" />
                    </svg>
                </button>
                <button onclick="zoom(-1)" class="btn btn-primary p-2 min-w-0 h-max block !scale-100 rounded-full rounded-t-none">
                    <svg class="feather-md">
                        <use href="{% static 'AtlantaFoodFinder/icons/feather-sprite.svg' %}#minus" />
                    </svg>
                </button>
            </div>
            <div id="search" class="absolute inset-y-4 right-4 card bg-base-100 w-96 max-w-[calc(100vw-7rem)] shadow-xl">
                <div class="card-body">
                    <label class="bg-base-200 input input-bordered input-secondary flex items-center gap-2">
                        <input type="text" class="grow" placeholder="Search..." />
                        <button class="btn btn-secondary btn-ghost min-h-0 size-8 p-0">
                            <svg class="feather-sm">
                                <use href="{% static 'AtlantaFoodFinder/icons/feather-sprite.svg' %}#search" />
                            </svg>
                        </button>
                    </label>
                </div>
            </div>
        </main>

        <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>
        <script src="{% static 'AtlantaFoodFinder/js/jquery-3.7.1.min.js' %}"></script>
        <script src="{% static 'AtlantaFoodFinder/js/index.js' %}"></script>
        <script src="{% static 'AtlantaFoodFinder/js/map.js' %}"></script>

        <script async src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD9Y17reV-j_GJXrsZ8_r5qssFG_iidaco&libraries=places&callback=initMap" defer></script>
    </body>
</html>